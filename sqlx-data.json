{
  "db": "SQLite",
  "3dad03c4edc0017e3fdd45387cb64f6dfcdc3d21f98470da4955eb67d5fd5ebf": {
    "describe": {
      "columns": [
        {
          "name": "statement_id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "statement_text",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "vote_timestamp",
          "ordinal": 2,
          "type_info": "Int64"
        },
        {
          "name": "vote",
          "ordinal": 3,
          "type_info": "Int64"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "\nselect s.id as statement_id, s.text as statement_text, timestamp as vote_timestamp, vote from vote_history v\njoin statements s on\n  s.id = v.statement_id\nwhere user_id = ? and vote != 0\norder by timestamp desc"
  },
  "491031582fe7ef3d527ba46dd1dec6c9528c3d48c8ea6f0d08588054753da070": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 3
      }
    },
    "query": "INSERT INTO votes (statement_id, user_id, vote) VALUES (?, ?, ?) on conflict ( statement_id, user_id) do update set vote = excluded.vote"
  },
  "7168ef2ac8e73b03960d5820b617c2e418bd635acaf0337ff8c3e43413581370": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "text",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select s.id as id, s.text as text from queue q join statements s on s.id = q.statement_id where q.user_id = ? limit 1"
  },
  "a32c2dc990c0b7f41bb9305aab078a6e9421622cc9b71ff644740a3c41a30e57": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "secret",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "SELECT id, secret from users WHERE secret = ?"
  },
  "cf0316052868e5672509eb7219d8ba3e771a39defb8ac954caa153de4fd66f35": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 2
      }
    },
    "query": "INSERT INTO queue (user_id, statement_id) VALUES (?, ?)"
  },
  "d38f1ea03d56233b70403c20b9c68c2fd1d7d87a6e1f04ab690e813c480ed1d6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 3
      }
    },
    "query": "INSERT INTO vote_history (user_id, statement_id, vote) VALUES (?, ?, ?)"
  },
  "eb249830a9036b2c77f7db1436bec513f4c4555a999bf05c4228ad4ddf14db05": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "INSERT INTO statements (text) VALUES (?) RETURNING id"
  },
  "f7b847cb2f6a602ac272f30c5b8bb2dffd9a139fce4f661138db7bd1328f1324": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 2
      }
    },
    "query": "delete from queue where user_id = ? and statement_id = ?"
  },
  "fa547048a2ff6f7db4a3b154acfe0a3d9632a2b0b286a3a99f63548179b6e8b2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 2
      }
    },
    "query": "INSERT INTO authors (user_id, statement_id) VALUES (?, ?)"
  }
}